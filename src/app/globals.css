@import "tailwindcss";

/* ==================== 现代化设计系统 ==================== */

/* 基础色彩 - 采用更现代的调色板 */
:root {
  /* 主色调 - 渐变蓝紫系 (更现代) */
  --primary-50: #f5f3ff;
  --primary-100: #ede9fe;
  --primary-200: #ddd6fe;
  --primary-300: #c4b5fd;
  --primary-400: #a78bfa;
  --primary-500: #8b5cf6;
  --primary-600: #7c3aed;
  --primary-700: #6d28d9;
  --primary-800: #5b21b6;
  --primary-900: #4c1d95;

  /* 强调色 - 青绿色 (用于成功/强调) */
  --accent-400: #2dd4bf;
  --accent-500: #14b8a6;
  --accent-600: #0d9488;

  /* 中性色系 - 更柔和 */
  --neutral-50: #fafafa;
  --neutral-100: #f5f5f5;
  --neutral-200: #e5e5e5;
  --neutral-300: #d4d4d4;
  --neutral-400: #a3a3a3;
  --neutral-500: #737373;
  --neutral-600: #525252;
  --neutral-700: #404040;
  --neutral-800: #262626;
  --neutral-900: #171717;

  /* 功能色 */
  --success: #10b981;
  --warning: #f59e0b;
  --error: #ef4444;
  --info: #3b82f6;

  /* 背景和前景 */
  --background: #ffffff;
  --background-secondary: #fafafa;
  --foreground: var(--neutral-900);
  --foreground-secondary: var(--neutral-600);
  --muted: var(--neutral-100);
  --muted-foreground: var(--neutral-600);

  /* 边框 */
  --border: var(--neutral-200);
  --border-strong: var(--neutral-300);
  --input-border: var(--neutral-300);

  /* 阴影系统 - 更立体 */
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.05), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.15);

  /* 圆角系统 */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;

  /* 间距系统 */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 0.75rem;
  --spacing-lg: 1rem;
  --spacing-xl: 1.5rem;
  --spacing-2xl: 2rem;
  --spacing-3xl: 3rem;

  /* 容器 */
  --container-max: 1200px;
  --container-padding: 1.5rem;
}

/* 深色模式 - 优化的暗色调色板 */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --background-secondary: #141414;
    --foreground: #ededed;
    --foreground-secondary: #a3a3a3;
    --muted: #1a1a1a;
    --muted-foreground: #a3a3a3;
    --border: #262626;
    --border-strong: #404040;
    --input-border: #404040;

    /* 深色模式下的阴影 */
    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.5);
    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.6), 0 1px 2px -1px rgb(0 0 0 / 0.6);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.6), 0 2px 4px -2px rgb(0 0 0 / 0.6);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.6), 0 4px 6px -4px rgb(0 0 0 / 0.6);
  }
}

@theme inline {
  /* 颜色 */
  --color-primary-50: var(--primary-50);
  --color-primary-100: var(--primary-100);
  --color-primary-300: #93c5fd;
  --color-primary-500: var(--primary-500);
  --color-primary-600: var(--primary-600);
  --color-primary-700: var(--primary-700);
  --color-primary-900: #1e3a8a;

  --color-neutral-50: var(--neutral-50);
  --color-neutral-100: var(--neutral-100);
  --color-neutral-200: var(--neutral-200);
  --color-neutral-300: var(--neutral-300);
  --color-neutral-400: var(--neutral-400);
  --color-neutral-500: var(--neutral-500);
  --color-neutral-600: var(--neutral-600);
  --color-neutral-700: var(--neutral-700);
  --color-neutral-800: var(--neutral-800);
  --color-neutral-900: var(--neutral-900);

  --color-success: var(--success);
  --color-warning: var(--warning);
  --color-error: var(--error);

  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  /* 圆角 */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;

  /* 间距 */
  --spacing-container: max(1rem, 4vw);

  /* 阴影 */
  --shadow-sm: var(--shadow-sm);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);
  --shadow-xl: var(--shadow-xl);
}

/* 深色模式 */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
    --muted: #171717;
    --muted-foreground: #a3a3a3;
    --border: #262626;
    --input-border: #404040;
  }
}

/* ==================== 全局样式 ==================== */
@layer base {
  * {
    @apply border-[var(--border)];
  }

  body {
    @apply bg-[var(--background)] text-[var(--foreground)] antialiased;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }

  /* 滚动条样式 */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-neutral-300 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-neutral-400;
  }

  /* 选择高亮 */
  ::selection {
    @apply bg-primary-100 text-primary-700;
  }
}

/* ==================== 动画 ==================== */
@layer utilities {
  .fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }

  .slide-up {
    animation: slideUp 0.3s ease-out;
  }

  .scale-in {
    animation: scaleIn 0.2s ease-out;
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* ==================== 组件样式 ==================== */
@layer components {
  /* 容器 - 现代化响应式容器 */
  .container {
    @apply max-w-[var(--container-max)] mx-auto px-[var(--container-padding)];
  }

  /* 卡片 - 现代化玻璃拟态风格 */
  .card {
    @apply bg-[var(--background)] border border-[var(--border)] rounded-[var(--radius-lg)] shadow-sm;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    backdrop-filter: blur(10px);
  }

  .card:hover {
    @apply shadow-lg border-[var(--border-strong)];
    transform: translateY(-2px);
  }

  /* 分类卡片 - 增强视觉层次 */
  .category-card {
    @apply bg-[var(--background)] border border-[var(--border)] rounded-[var(--radius-xl)] shadow-sm;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .category-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--primary-500), var(--primary-600));
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .category-card:hover::before {
    opacity: 1;
  }

  .category-card:hover {
    @apply shadow-lg border-[var(--primary-300)];
    transform: translateY(-2px);
  }

  /* 站点卡片 - 现代化图标式设计 */
  .site-card {
    @apply flex flex-col items-center gap-2 p-3 rounded-[var(--radius-md)] border border-[var(--border)] bg-[var(--background)];
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    width: 100px;
    height: 100px;
    position: relative;
    flex-shrink: 0;
  }

  .site-card:hover {
    @apply border-[var(--primary-300)] shadow-md bg-[var(--background-secondary)];
    transform: translateY(-2px) scale(1.02);
  }

  .site-icon-wrapper {
    @apply w-10 h-10 rounded-[var(--radius-md)] flex items-center justify-center overflow-hidden;
    background: linear-gradient(135deg, var(--primary-100), var(--primary-50));
    border: 1px solid var(--primary-200);
    transition: all 0.2s ease;
    position: relative;
    flex-shrink: 0;
  }

  .site-card:hover .site-icon-wrapper {
    background: linear-gradient(135deg, var(--primary-200), var(--primary-100));
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.2);
  }

  .site-title {
    @apply text-xs text-[var(--foreground-secondary)] font-medium text-center truncate w-full;
    line-height: 1.2;
  }

  /* 按钮 - 现代化设计 */
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-[var(--radius-md)] font-medium transition-all duration-200;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply active:scale-95;
  }

  .btn-primary {
    @apply bg-[var(--primary-600)] hover:bg-[var(--primary-700)] text-white;
    box-shadow: 0 2px 8px rgba(124, 58, 237, 0.3);
  }

  .btn-primary:hover {
    box-shadow: 0 4px 16px rgba(124, 58, 237, 0.4);
  }

  .btn-secondary {
    @apply bg-[var(--muted)] hover:bg-[var(--neutral-200)] text-[var(--foreground)];
    @apply dark:bg-[var(--neutral-800)] dark:hover:bg-[var(--neutral-700)] dark:text-[var(--foreground)];
  }

  .btn-outline {
    @apply border border-[var(--border-strong)] hover:bg-[var(--background-secondary)];
    @apply dark:border-[var(--border)] dark:hover:bg-[var(--neutral-800)];
  }

  .btn-ghost {
    @apply hover:bg-[var(--muted)] text-[var(--foreground-secondary)];
    @apply dark:hover:bg-[var(--neutral-800)];
  }

  .btn-danger {
    @apply bg-[var(--error)] hover:bg-red-600 text-white;
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
  }

  .btn-success {
    @apply bg-[var(--success)] hover:bg-emerald-600 text-white;
  }

  /* 输入框 - 现代化 */
  .input {
    @apply w-full px-4 py-2.5 rounded-[var(--radius-md)] border border-[var(--input-border)] bg-[var(--background)] text-[var(--foreground)];
    @apply focus:outline-none focus:ring-2 focus:ring-[var(--primary-500)] focus:border-transparent;
    @apply transition-all duration-200;
    font-size: 0.95rem;
  }

  .input::placeholder {
    @apply text-[var(--muted-foreground)];
  }

  /* 搜索框 - 增强样式 */
  .search-input {
    @apply w-full px-4 py-2.5 rounded-[var(--radius-md)] border border-[var(--input-border)] bg-[var(--background)] text-[var(--foreground)] pl-10;
    @apply focus:outline-none focus:ring-2 focus:ring-[var(--primary-500)] focus:border-transparent;
    @apply transition-all duration-200;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%23737373' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'/%3E%3Cpath d='m21 21-4.3-4.3'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 12px center;
    background-size: 18px;
  }

  /* 标签 - 现代化 */
  .badge {
    @apply inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium;
    letter-spacing: 0.2px;
  }

  .badge-primary {
    @apply bg-[var(--primary-100)] text-[var(--primary-700)];
    @apply dark:bg-[var(--primary-900)/30] dark:text-[var(--primary-300)];
  }

  .badge-neutral {
    @apply bg-[var(--muted)] text-[var(--foreground-secondary)];
    @apply dark:bg-[var(--neutral-800)] dark:text-[var(--neutral-300)];
  }

  .badge-success {
    @apply bg-[var(--accent-400)/20] text-[var(--accent-600)];
  }

  /* 分割线 */
  .divider {
    @apply h-px bg-[var(--border)] dark:bg-[var(--border)];
  }

  /* 空状态 - 现代化 */
  .empty-state {
    @apply flex flex-col items-center justify-center py-16 text-center;
  }

  .empty-state-icon {
    @apply w-20 h-20 bg-[var(--muted)] rounded-full flex items-center justify-center mb-4;
    background: linear-gradient(135deg, var(--neutral-100), var(--neutral-50));
  }

  .empty-state-title {
    @apply text-xl font-semibold text-[var(--foreground)] mb-2;
  }

  .empty-state-description {
    @apply text-sm text-[var(--foreground-secondary)] max-w-md mx-auto;
  }

  /* 工具提示 */
  .tooltip {
    @apply absolute z-50 px-2 py-1 text-xs rounded-[var(--radius-sm)] bg-[var(--neutral-900)] text-white;
    @apply opacity-0 pointer-events-none transition-opacity duration-200;
    white-space: nowrap;
  }

  .has-tooltip:hover .tooltip {
    @apply opacity-100;
  }

  /* 加载动画 */
  .loading-spinner {
    @apply w-5 h-5 border-2 border-[var(--border)] border-t-[var(--primary-600)] rounded-full;
    animation: spin 0.8s linear infinite;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  /* 拖拽状态 */
  .dragging {
    opacity: 0.7;
    transform: rotate(2deg);
  }

  .drag-over {
    @apply border-[var(--primary-400)] bg-[var(--primary-50)];
  }

  /* 快捷键提示 */
  .kbd {
    @apply inline-flex items-center justify-center min-w-[1.5rem] px-1.5 py-0.5 text-xs font-medium rounded-[var(--radius-sm)];
    @apply bg-[var(--muted)] border border-[var(--border)] text-[var(--foreground-secondary)];
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  }

  /* 浮动操作按钮 */
  .fab {
    @apply fixed bottom-6 right-6 w-14 h-14 rounded-full bg-[var(--primary-600)] text-white shadow-xl;
    @apply hover:bg-[var(--primary-700)] hover:scale-105 active:scale-95;
    @apply flex items-center justify-center;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 100;
  }

  /* 通知徽章 */
  .notification-badge {
    @apply absolute -top-1 -right-1 w-5 h-5 bg-[var(--error)] text-white text-[10px] font-bold rounded-full;
    @apply flex items-center justify-center;
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.8; }
  }

  /* 渐变文字 */
  .text-gradient {
    background: linear-gradient(135deg, var(--primary-600), var(--accent-500));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* 玻璃拟态 */
  .glass {
    @apply bg-[var(--background)]/80 backdrop-blur-md border border-[var(--border)];
  }

  /* 卡片网格 */
  .card-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  }

  /* 响应式断点优化 */
  @media (max-width: 768px) {
    .card-grid {
      grid-template-columns: 1fr;
    }
  }
}
